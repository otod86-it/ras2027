<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAS 2027 | SECURE PORTAL</title>
    <style>
        :root { --bg-main: #000; --bg-side: #0d0d0d; --bg-header: #0a0a0a; --accent: #2563eb; --text-main: #fff; --text-dim: #777; --border: #222; }
        .theme-white { --bg-main: #fff; --bg-side: #f0f0f0; --bg-header: #e0e0e0; --accent: #2563eb; --text-main: #000; --text-dim: #555; --border: #ccc; }
        .theme-red { --bg-main: #2b0000; --bg-side: #420000; --bg-header: #1a0000; --accent: #f00; --text-main: #fff; --text-dim: #f99; --border: #600; }
        .theme-blue { --bg-main: #000a1a; --bg-side: #001a33; --bg-header: #00050d; --accent: #3399ff; --text-main: #fff; --text-dim: #9cf; --border: #036; }

        * { box-sizing: border-box; }
        body, html { margin: 0; padding: 0; height: 100%; background: var(--bg-main); color: var(--text-main); font-family: 'Segoe UI', sans-serif; overflow: hidden; user-select: none; transition: background 0.3s ease; }

        /* THE WALL: MULTI-STAGE VERIFICATION */
        #THE_WALL { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: flex; align-items: center; justify-content: center; flex-direction: column; }
        .captcha-box { border: 1px solid var(--border); padding: 40px; border-radius: 15px; text-align: center; background: #050505; max-width: 450px; width: 90%; }
        .symbol-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 20px 0; }
        .symbol-btn { aspect-ratio: 1; background: #111; border: 1px solid #333; color: #fff; cursor: pointer; font-size: 20px; transition: 0.2s; }
        .symbol-btn:hover { border-color: var(--accent); background: #1a1a1a; }
        
        /* Device Questions */
        .q-box { display: none; margin-top: 20px; }
        .q-btn { width: 45%; margin: 5px; padding: 10px; background: #111; color: white; border: 1px solid #333; cursor: pointer; }
        .q-btn:hover { border-color: var(--accent); }

        /* Face Scan */
        #face-scan-container { display: none; margin-top: 20px; position: relative; width: 180px; height: 180px; border-radius: 50%; overflow: hidden; border: 2px solid var(--accent); margin-left: auto; margin-right: auto; }
        #webcam { width: 100%; height: 100%; object-fit: cover; filter: grayscale(1); }
        .scan-line { position: absolute; width: 100%; height: 2px; background: var(--accent); top: 0; left: 0; animation: scan 2s linear infinite; }
        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }

        /* MAIN UI */
        #MAIN_UI { display: none; }
        header { height: 100px; background: var(--bg-header); border-bottom: 2px solid var(--border); display: flex; align-items: center; justify-content: space-between; padding: 0 40px; }
        .user-info { width: 250px; }
        #timer { color: #f00; font-family: monospace; font-size: 14px; font-weight: bold; }
        .logo-center img { height: 75px; }
        .btn { padding: 8px 15px; border-radius: 5px; font-weight: bold; cursor: pointer; border: 1px solid var(--border); font-size: 12px; background: transparent; color: inherit; }
        .btn-accent { background: var(--accent); color: #fff; border: none; }
        
        .page-wrapper { display: flex; height: calc(100vh - 100px); }
        .sidebar { width: 250px; background: var(--bg-side); border-right: 2px solid var(--border); display: flex; flex-direction: column; justify-content: space-between; padding-top: 30px; }
        .nav-tab { padding: 20px 30px; color: var(--text-dim); font-weight: 800; cursor: pointer; border-left: 5px solid transparent; }
        .nav-tab.active { color: var(--text-main); background: rgba(255,255,255,0.05); border-left-color: var(--accent); }
        
        .main-content { flex: 1; padding: 50px; overflow-y: auto; }
        .view-page { display: none; }
        .view-page.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; } }

        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 2000; }
        .modal-box { background: var(--bg-side); width: 400px; margin: 100px auto; padding: 40px; border: 1px solid var(--border); text-align: center; border-radius: 10px; }
        input { width: 100%; padding: 12px; margin-bottom: 15px; background: #000; border: 1px solid var(--border); color: #fff; }
        #chat-window { height: 200px; overflow-y: auto; background: #000; padding: 10px; text-align: left; border: 1px solid var(--border); }
    </style>
</head>
<body id="body">

    <div id="THE_WALL">
        <div class="captcha-box" id="step-cap">
            <h2 style="color:var(--accent); letter-spacing: 2px;">SECURE GATEWAY</h2>
            <p style="font-size: 11px; color: #777;">Sequence: <b>‚àë ‚Üí Œ© ‚Üí ‚àÜ</b></p>
            <div class="symbol-grid">
                <button class="symbol-btn" onclick="checkCap('‚àÜ')">‚àÜ</button>
                <button class="symbol-btn" onclick="checkCap('‚âà')">‚âà</button>
                <button class="symbol-btn" onclick="checkCap('‚àë')">‚àë</button>
                <button class="symbol-btn" onclick="checkCap('‚àû')">‚àû</button>
                <button class="symbol-btn" onclick="checkCap('Œ©')">Œ©</button>
                <button class="symbol-btn" onclick="checkCap('œÄ')">œÄ</button>
            </div>
            <div id="capStatus" style="color:red; font-size:10px;"></div>
        </div>

        <div class="captcha-box" id="step-interrogate" style="display:none;">
            <h2 style="color:var(--accent);">ENVIRONMENT CHECK</h2>
            
            <div id="q1" class="q-box" style="display:block;">
                <p>Are you an Android user?</p>
                <button class="q-btn" onclick="nextQ(1, 'yes')">YES</button>
                <button class="q-btn" onclick="nextQ(1, 'no')">NO</button>
            </div>

            <div id="q2" class="q-box">
                <p>Are you a PC user?</p>
                <button class="q-btn" onclick="nextQ(2, 'yes')">YES</button>
                <button class="q-btn" onclick="nextQ(2, 'no')">NO</button>
            </div>

            <div id="q3" class="q-box">
                <p>Are you an iOS user?</p>
                <button class="q-btn" onclick="nextQ(3, 'yes')">YES</button>
                <button class="q-btn" onclick="nextQ(3, 'no')">NO</button>
            </div>
        </div>

        <div class="captcha-box" id="step-android" style="display:none;">
            <h2 style="color:var(--accent);">FACE SYNC</h2>
            <div id="face-scan-container"><video id="webcam" autoplay playsinline></video><div class="scan-line"></div></div>
            <p id="scan-status" style="font-size:12px; font-family:monospace; margin-top:10px;">AWAITING SENSOR...</p>
        </div>

        <div class="captcha-box" id="step-pc" style="display:none;">
            <h2 style="color:var(--accent);">SECONDARY CAPTCHA</h2>
            <p>Type: <b id="pc-code"></b></p>
            <input type="text" id="pc-input" placeholder="Enter Code">
            <button class="btn-accent btn" onclick="verifyPC()">VERIFY</button>
        </div>

        <input type="text" id="bot_trap" style="opacity:0; position:absolute; top:-1000px;" tabindex="-1">
    </div>

    <div id="MAIN_UI">
        <header>
            <div class="user-info">
                <div id="displayUser" style="color:var(--accent); font-weight:bold">Guest_User</div>
                <div id="timer">--:--:--</div>
            </div>
            <div class="logo-center"><img src="ras2027.png" alt="RAS"></div>
            <div class="top-nav">
                <button class="btn btn-accent" onclick="œá(1)">üí¨ Dev Gateway</button>
                <button class="btn" onclick="œá(2)">ü§ñ AI Support</button>
                <div class="settings-container" style="display:inline-block; position:relative;">
                    <button class="btn" onclick="toggleDropdown()">‚öôÔ∏è Settings</button>
                    <div id="themeDropdown" style="display:none; position:absolute; background:var(--bg-side); border:1px solid var(--border); width:150px; right:0;">
                        <div style="padding:10px; cursor:pointer;" onclick="setTheme('black')">Dark Mode</div>
                        <div style="padding:10px; cursor:pointer;" onclick="setTheme('white')">Light Mode</div>
                        <div style="padding:10px; cursor:pointer;" onclick="setTheme('red')">Red Alert</div>
                        <div style="padding:10px; cursor:pointer;" onclick="setTheme('blue')">Deep Blue</div>
                    </div>
                </div>
                <button class="btn btn-accent" onclick="œá(3)">LOGIN</button>
            </div>
        </header>

        <div class="page-wrapper">
            <nav class="sidebar">
                <div class="nav-tab active" onclick="œà(0, this)">0. HOME</div>
                <div class="nav-tab" onclick="œà(1, this)">1. NEWS</div>
                <div class="nav-tab" onclick="œà(2, this)">2. ARCHIVES</div>
            </nav>
            <main class="main-content">
                <div id="p0" class="view-page active"><h1>SYSTEM STATUS</h1><p>RAS 2027 Core Synchronized.</p></div>
                <div id="p1" class="view-page"><h1>LATEST INTEL</h1><p>Operational date confirmed: Dec 2027.</p></div>
                <div id="p2" class="view-page"><h1>ARCHIVES</h1><p style="color:red">Encrypted.</p></div>
            </main>
        </div>
    </div>

    <div id="m1" class="modal"><div class="modal-box"><h2>DEV UPLINK</h2><input type="password" id="kp" placeholder="Security Key"><button class="btn-accent btn" style="width:100%" onclick="œâ()">VERIFY</button><p onclick="œá(1)" style="cursor:pointer; margin-top:20px">CLOSE</p></div></div>
    <div id="m2" class="modal"><div class="modal-box"><h2>RAS AI</h2><div id="chat-window"></div><input type="text" id="aiq" placeholder="Command..."><button class="btn-accent btn" onclick="Œ±()">SEND</button><p onclick="œá(2)" style="cursor:pointer; margin-top:10px">EXIT</p></div></div>
    <div id="m3" class="modal"><div class="modal-box"><h2>LOGIN</h2><input type="text" id="un" placeholder="User"><button class="btn-accent btn" style="width:100%" onclick="Œª()">LOGIN</button><p onclick="œá(3)" style="cursor:pointer; margin-top:10px">BACK</p></div></div>

    <script>
        let capSeq = [];
        const targetSeq = ['‚àë', 'Œ©', '‚àÜ'];

        // Stage 1: Geometry
        function checkCap(sym) {
            if(document.getElementById('bot_trap').value !== "") { document.body.innerHTML = "BLACK-LISTED"; return; }
            capSeq.push(sym);
            if(capSeq.length === 3) {
                if(JSON.stringify(capSeq) === JSON.stringify(targetSeq)) {
                    document.getElementById('step-cap').style.display = 'none';
                    document.getElementById('step-interrogate').style.display = 'block';
                } else {
                    document.getElementById('capStatus').innerText = "FAIL. RETRY.";
                    capSeq = [];
                }
            }
        }

        // Stage 2: Logic Flow
        function nextQ(step, ans) {
            document.getElementById('q'+step).style.display = 'none';
            if(step === 1) {
                if(ans === 'yes') startAndroid(); else document.getElementById('q2').style.display = 'block';
            } else if(step === 2) {
                if(ans === 'yes') startPC(); else document.getElementById('q3').style.display = 'block';
            } else if(step === 3) {
                if(ans === 'yes') { alert("Get the shit out of here."); location.reload(); }
                else { alert("ACCESS DENIED."); location.reload(); }
            }
        }

        // Android Branch: Live Scan
        async function startAndroid() {
            document.getElementById('step-interrogate').style.display = 'none';
            document.getElementById('step-android').style.display = 'block';
            const v = document.getElementById('webcam');
            const s = document.getElementById('scan-status');
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                v.srcObject = stream;
                let p = 0;
                let int = setInterval(() => {
                    p += 10;
                    s.innerText = `SCANNING: ${p}%`;
                    if(p >= 100) {
                        clearInterval(int);
                        stream.getTracks().forEach(t => t.stop()); // Instant deletion
                        enterSystem();
                    }
                }, 200);
            } catch(e) { s.innerText = "CAMERA ERROR"; }
        }

        // PC Branch: Alpha-Captcha
        function startPC() {
            document.getElementById('step-interrogate').style.display = 'none';
            document.getElementById('step-pc').style.display = 'block';
            document.getElementById('pc-code').innerText = Math.random().toString(36).substring(2, 8).toUpperCase();
        }
        function verifyPC() {
            if(document.getElementById('pc-input').value === document.getElementById('pc-code').innerText) enterSystem();
            else alert("WRONG CODE");
        }

        function enterSystem() {
            document.getElementById('THE_WALL').style.display = 'none';
            document.getElementById('MAIN_UI').style.display = 'block';
            initSystem();
        }

        // Shared Logic from previous builds
        function initSystem() {
            const target = new Date("Dec 1, 2027 00:00:00").getTime();
            setInterval(() => {
                const gap = target - new Date().getTime();
                const d = Math.floor(gap / 86400000);
                const h = Math.floor((gap % 86400000) / 3600000);
                const m = Math.floor((gap % 3600000) / 60000);
                const s = Math.floor((gap % 60000) / 1000);
                document.getElementById("timer").innerText = `${d}D : ${h}H : ${m}M : ${s}S`;
            }, 1000);
        }

        function œà(idx, el) {
            document.querySelectorAll('.view-page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.getElementById('p'+idx).classList.add('active');
            el.classList.add('active');
        }
        function œá(n) { const m = document.getElementById('m'+n); m.style.display = m.style.display === 'block' ? 'none' : 'block'; }
        function Œª() { document.getElementById('displayUser').innerText = document.getElementById('un').value; œá(3); }
        function setTheme(m) { document.getElementById('body').className = m === 'black' ? '' : 'theme-'+m; toggleDropdown(); }
        function toggleDropdown() { const d = document.getElementById('themeDropdown'); d.style.display = d.style.display === 'block' ? 'none' : 'block'; }
        
        function œâ() {
            if(document.getElementById('kp').value === "ras.exeTheJava") {
                window.location.href = `mailto:aishwarymishra55@gmail.com?subject=RAS_Secure_Link`;
            } else { alert("INVALID"); }
        }

        // Global Blockers
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.onkeydown = e => { if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 73)) return false; };

        // Debugger Trap
        (function() {
            const shield = new Image();
            Object.defineProperty(shield, 'id', { get: function() { debugger; throw new Error('BLOCK'); } });
            setInterval(() => { console.dir(shield); }, 500);
        })();
    </script>
</body>
</html>
